Utility functions for first version